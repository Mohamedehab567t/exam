{% if Language == 'English'  %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+SC&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{bootstrap}}">
    <link rel="stylesheet" href="{{font}}">
    <link rel="stylesheet" href="{{normalize}}">
    <link rel="stylesheet" href="{{Admin}}">
    <link rel="stylesheet" href="{{student}}">

    <title>Profile</title>
</head>
<body>

    <div class="con">
    <div class="infos">
        <div class="welcome-part alert alert-success">
        <p>Welcome Student : {{ user['first_name'] }} at <span class="Variable">{{Sett['site_name']}}</span> Profile </p>
        <p>here you can update your information , receive exams messages , see your results , monitor your progress  </p>
    </div>
    {% if user['Results'] %}
    {% for r in user['Results']  %}
    {% if r['status'] == 'Unseen' %}
    <div class="welcome-part alert alert-success">
       <span class="Variable">You have new results</span>
    </div>
    {% endif %}
    {% endfor %}
    {% endif %}
        <h3>{{ user['first_name'] }} {{ user['last_name'] }}</h3>
    <div class="letter alert-success">
            <span>{{user['firstletter']}}</span>
        </div>

        <div class="s-i">
            <form action="" method="POST" class="StudentInformation">
                <div class="form-group">
                    <input type="number" class="form-control"  placeholder="ID" value="{{ user['_id'] }}" disabled style="margin-top: 25px;">
                  </div>
                <div class="my-row">
                    <div class="my-col">
                        <input type="text" class="form-control" id="f" placeholder="First name" value="{{ user['first_name'] }}">
                    </div>
                    <div class="my-col">
                        <input type="text" class="form-control" id="l" placeholder="Last name" value="{{ user['last_name'] }}">
                    </div>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control"  id="p" aria-describedby="emailHelp" placeholder="Enter number" value="{{ user['phone_number'] }}">
                </div>
                  <div class="form-group">
                    <input type="text" class="form-control" id="g" placeholder="Gender" value="{{ user['gender'] }}">
                  </div>
                {% if Sett['Addition-Information'] %}
                {% for input in Sett['Addition-Information'] %}
                {% if input['type'] == 'text' %}
                  <div class="form-group">
                     {% if user['Addition'] %}
                    <input type="text" class="form-control Adi"  placeholder="{{ input['label'] }}" data-label="{{ input['label'] }}" value="{{ user['Addition'][input['label']] }}">
                    {% else %}
                   <input type="text" class="form-control Adi"  placeholder="{{ input['label'] }}" data-label="{{ input['label'] }}">
                    {% endif %}
                  </div>
                {% elif input['type'] == 'number' %}
                <div class="form-group">
                    {% if user['Addition'] %}
                    <input type="number" class="form-control Adi"  placeholder="{{ input['label'] }}" data-label="{{ input['label'] }}" value="{{ user['Addition'][input['label']] }}">
                    {% else %}
                    <input type="number" class="form-control Adi"  placeholder="{{ input['label'] }}" data-label="{{ input['label'] }}">
                    {% endif %}
                </div>
                {% else %}
                <div class="form-group">

                    <select name="TypeOfInputs" class="form-control Adi" data-label="{{ input['label'] }}">
                        <option value="" selected>please choose {{ input['label'] }}</option>
                        {% for val in input['values'] %}
                        {% if user['Addition'] %}
                        {% if val == user['Addition'][input['label']] %}
                        <option value="{{ val }}" selected>{{val}} </option>
                        {% else %}
                        <option value="{{ val }}">{{val}}</option>
                        {% endif %}
                        {% else %}
                        <option value="{{ val }}">{{val}}</option>
                        {% endif %}
                        {% endfor %}
                    </select>

                </div>
                {% endif %}
                {% endfor %}
                {% endif %}
                  <button type="submit" class="btn btn-success">Update</button>
            </form>
        </div>
    </div>

        <div class="fixednav">
            <a href="#" class="Variable"><i class="fa fa-user i"></i></a>
            <a href="#" id="langChange" class="Variable"><i style="font-weight:800">AR</i></a>
            {% if user['Messages']|length > 0 %}
            <a href="{{url_for('Messages')}}" style="background-color : red" class="Variable message"><i class="fa fa-envelope"></i></a>
            {% else %}
            <a href="{{url_for('Messages')}}" class="Variable message"><i class="fa fa-envelope"></i></a>
            {% endif %}
        <a href="{{url_for('results')}}" id="RES" class="Variable"><i class="fa fa-certificate"></i></a>
            <a href="{{url_for('logout')}}" class="Variable"><i class="fa fa-sign-out" ></i></a>

        </div>
</div>


        <script src="{{ url_for('static' , filename='js/jquery-3.5.1.js') }}"></script>
        <script src="{{ url_for('static' , filename='js/popper.js') }}"></script>
        <script src="{{ url_for('static' , filename='js/bootstrap.js') }}"></script>
        <script src="{{ url_for('static' , filename='js/student.js') }}"></script>
</body>
</html>
{% elif Language =="Arabic" or Language is none %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+SC&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{bootstrap}}">
    <link rel="stylesheet" href="{{font}}">
    <link rel="stylesheet" href="{{normalize}}">
    <link rel="stylesheet" href="{{Admin}}">
    <link rel="stylesheet" href="{{student}}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/Bank.css')}}">
    <title>الصفحة الشخصية</title>
</head>
<body style="direction : rtl">

    <div class="con">
    <div class="infos">

    <div class="welcome-part alert alert-success">
        <p style="float:right">مرحبا بك يا  : {{user['first_name']}} في  لوحة تحكم <span class="Variable">{{Sett['site_name']}}</span></p>
                    <div class="clearfix"></div>
        <p style="float:right">هنا يمكنك التحكم في معلوماتك الشخصية و استقبال رسائل الامتحانات و رؤية الدرجات</p>
                <div class="clearfix"></div>
        <p style="float:right">وللدعم الفني او المشاكل التواصل مع شركة SkySoft علي رقم : 01027708044</p>
        <div class="clearfix"></div>
    </div>

    {% if user['Results'] %}
    {% for r in user['Results']  %}
    {% if r['status'] == 'Unseen' %}
    {% if loop.index == user['Results']|length %}
    <div class="welcome-part alert alert-success">
       <span class="Variable">لديك نتائج غير مقروءة يرجي الدخول علي <i class="fa fa-certificate" style="color:#02ab3a"></i> </span>
    </div>
        {% endif %}
    {% endif %}
    {% endfor %}
    {% endif %}

        {% with m = get_flashed_messages()%}
        {% if m %}
        {% for message in m %}
        <div class="alert alert-success" style="
    color: #00795c;
    width: fit-content;
    margin: 10px auto;
        ">
        {{ message }}
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}

        <h3>{{ user['first_name'] }} {{ user['last_name'] }}</h3>
    <div class="letter alert-success">
            <span>{{user['firstletter']}}</span>
        </div>

        <div class="s-i">
            <form action="" method="POST" class="StudentInformation">
                <div class="form-group">
                    <input type="number" class="form-control"  placeholder="ID" value="{{ user['_id'] }}" disabled style="margin-top: 25px;">
                  </div>
                <div class="my-row">
                    <div class="my-col">
                        <input type="text" class="form-control" id="f" placeholder="First name" value="{{ user['first_name'] }}">
                    </div>
                    <div class="my-col">
                        <input type="text" class="form-control" id="l" placeholder="Last name" value="{{ user['last_name'] }}">
                    </div>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="p" aria-describedby="emailHelp" placeholder="Enter number" value="{{ user['phone_number'] }}">
                </div>
                  <div class="form-group">
                    <input type="text" class="form-control" id="g" placeholder="Gender" value="{{ user['gender'] }}">
                  </div>
                {% if Sett['Addition-Information'] %}
                {% for input in Sett['Addition-Information'] %}
                {% if input['type'] == 'text' %}
                  <div class="form-group">
                     {% if user['Addition'] %}
                    <input type="text" class="form-control Adi"  placeholder="{{ input['label'] }}" data-label="{{ input['label'] }}" value="{{ user['Addition'][input['label']] }}">
                    {% else %}
                   <input type="text" class="form-control Adi"  placeholder="{{ input['label'] }}" data-label="{{ input['label'] }}">
                    {% endif %}
                  </div>
                {% elif input['type'] == 'number' %}
                <div class="form-group">
                    {% if user['Addition'] %}
                    <input type="number" class="form-control Adi"  placeholder="{{ input['label'] }}" data-label="{{ input['label'] }}" value="{{ user['Addition'][input['label']] }}">
                    {% else %}
                    <input type="number" class="form-control Adi"  placeholder="{{ input['label'] }}" data-label="{{ input['label'] }}">
                    {% endif %}
                </div>
                {% else %}
                <div class="form-group">

                    <select name="TypeOfInputs" class="form-control Adi" data-label="{{ input['label'] }}">
                        <option value="" selected>please choose {{ input['label'] }}</option>
                        {% for val in input['values'] %}
                        {% if user['Addition'] %}
                        {% if val == user['Addition'][input['label']] %}
                        <option value="{{ val }}" selected>{{val}} </option>
                        {% else %}
                        <option value="{{ val }}">{{val}}</option>
                        {% endif %}
                        {% else %}
                        <option value="{{ val }}">{{val}}</option>
                        {% endif %}
                        {% endfor %}
                    </select>

                </div>
                {% endif %}
                {% endfor %}
                {% endif %}
                  <button type="submit" class="btn btn-success">تعديل</button>
            </form>
        </div>

        <hr class="mt-3 mb-2">


  <div class="container">
             <h4 style="text-align:center">ابحث في الطلاب</h4>
      <div class="SearchDiv mb-2">
    {% for obj in ConfigS %}
    {% if obj['type'] == 'select' %}
        <select class="form-control" name="{{obj['label']}}">
            <option value="" selected>اختر {{obj['label']}}</option>
            {% for option in obj['values'] %}
            <option value="{{option}}" >{{option}}</option>
            {% endfor %}
        </select>
    {% endif %}
    {%else%}
        <input type="text"  class="form-control" placeholder="{{obj}}">
    {% endfor %}
    </div>
          <div class="conOfBtn mb-4" style="display:flex; flex-direction:row; gap:5px; justify-content: center;">
        <button class="btn btn-success" id="SearchQ">بحث</button>
      </div>
    <h3 style="text-align: center;" class="m-3">الترتيب العام الطلبة</h3>
            <div class="ConOfRanked">
        {% if Ranked %}
  <table class="table mt-3 mb-5">
    <thead>
      <tr>
        <th scope="col">الترتيب</th>
        <th scope="col">الاسم بالكامل</th>
        <th scope="col">الدرجة</th>
        <th style="color: white; background-color:#02ab3a ;" scope="col">النسبة</th>
      </tr>
    </thead>
    <tbody>
    {% for rank in Ranked %}
    {% if loop.index == 1 %}
      <tr>
        <th scope="row">
          <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24">
            <path style="fill: gold;" d="M5.991 10.656c.286.638.585 1.231.882 1.783-4.065-1.348-6.501-5.334-6.873-9.439h4.077c.036.482.08.955.139 1.405h-2.689c.427 2.001 1.549 4.729 4.464 6.251zm10.009 10.963v1.381h-8v-1.381c1.941 0 2.369-1.433 2.571-2.619h2.866c.193 1.187.565 2.619 2.563 2.619zm8-18.619c-.372 4.105-2.808 8.091-6.873 9.438.297-.552.596-1.145.882-1.783 2.915-1.521 4.037-4.25 4.464-6.251h-2.688c.059-.45.103-.922.139-1.405h4.076zm-7.079 0c-.368 4.506-1.953 7.23-3.372 9.669-.577.993-1.136 1.953-1.543 2.95-.408-.998-.969-1.959-1.548-2.953-1.422-2.437-3.011-5.161-3.379-9.666h9.842zm2.079-2h-14c0 9.803 5.105 13.053 5.604 17h2.805c.497-3.947 5.591-7.197 5.591-17zm-6 9h-1v-3h-2v-.673c.992.027 1.853-.345 2-1.327h1v5zm9.131.158c.301 1.125.972 2.212 1.729 2.883l-1.045.657c-.851-.794-1.288-1.469-1.636-2.549.335-.31.655-.638.952-.991zm.294 4.671l-1.045.657c.783.741 1.249 1.486 1.573 2.514l1.047-.655c-.06-.702-.97-2.156-1.575-2.516zm-2.327-2.798c-.337.239-.687.459-1.049.656.349 1.094.764 1.751 1.62 2.552l1.046-.658c-.72-.68-1.302-1.607-1.617-2.55zm-17.278-.882c-.348 1.08-.785 1.755-1.636 2.549l-1.044-.656c.758-.671 1.429-1.758 1.729-2.883.297.352.617.68.951.99zm-2.82 6.196l1.047.655c.324-1.028.79-1.773 1.573-2.514l-1.045-.657c-.605.36-1.515 1.814-1.575 2.516zm2.285-2.763l1.046.658c.856-.8 1.271-1.458 1.62-2.552-.362-.197-.712-.417-1.049-.656-.315.942-.897 1.869-1.617 2.55z"/></svg>
            <td>{{rank['first_name']}} {{rank['last_name']}}</td>
        <td>{{ rank['Rank']['FullMark'] -1  }} / {{ rank['Rank']['score'] }}</td>
        <td style="color: white; background-color:#02ab3a ;">{{ rank['Rank']['rank'] }}</td>
      </tr>
    {% elif loop.index == 2 %}
      <tr>
        <th scope="row"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24">
          <path style="fill: silver;" d="M8 0l5.958 8h-3.958l-6-8h4zm6.604 7.194l5.396-7.194h-4l-3.376 4.534 1.98 2.66zm-2.604 4.806c-2.762 0-5 2.239-5 5s2.238 5 5 5 5-2.239 5-5-2.238-5-5-5zm1.854 7.755l-1.854-.992-1.854.992.369-2.07-1.515-1.457 2.083-.287.917-1.892.917 1.892 2.083.287-1.516 1.457.37 2.07zm-1.854-9.755c-3.865 0-7 3.134-7 7s3.135 7 7 7 7-3.134 7-7-3.135-7-7-7zm0 13c-3.314 0-6-2.687-6-6s2.686-6 6-6 6 2.687 6 6-2.686 6-6 6z"/></svg></th>
        <td>{{rank['first_name']}} {{rank['last_name']}}</td>
        <td>{{ rank['Rank']['FullMark'] - 1 }} / {{ rank['Rank']['score'] }}</td>
        <td style="color: white; background-color:#02ab3a ;">{{ rank['Rank']['rank'] }}</td>
      </tr>
    {% elif loop.index == 3 %}
      <tr>
        <th scope="row"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24">
          <path style="fill: brown;" d="M8 0l5.958 8h-3.958l-6-8h4zm6.604 7.194l5.396-7.194h-4l-3.376 4.534 1.98 2.66zm-2.604 4.806c-2.762 0-5 2.239-5 5s2.238 5 5 5 5-2.239 5-5-2.238-5-5-5zm1.854 7.755l-1.854-.992-1.854.992.369-2.07-1.515-1.457 2.083-.287.917-1.892.917 1.892 2.083.287-1.516 1.457.37 2.07zm-1.854-9.755c-3.865 0-7 3.134-7 7s3.135 7 7 7 7-3.134 7-7-3.135-7-7-7zm0 13c-3.314 0-6-2.687-6-6s2.686-6 6-6 6 2.687 6 6-2.686 6-6 6z"/></svg></th>
            <td>{{rank['first_name']}} {{rank['last_name']}}</td>
        <td>{{ rank['Rank']['FullMark'] -1  }} / {{ rank['Rank']['score'] }}</td>
        <td style="color: white; background-color:#02ab3a ;">{{ rank['Rank']['rank'] }}</td>
      </tr>
    {% else %}
    {% if rank['_id'] == current_user.id %}
      <tr>
        <th style="color: white; background-color:#ffd700 ;" scope="row">{{loop.index}}</th>
            <td style="color: white; background-color:#ffd700 ;">{{rank['first_name']}} {{rank['lastname']}}</td>
        <td style="color: white; background-color:#ffd700 ;">{{ rank['Rank']['FullMark'] -1 }} / {{ rank['Rank']['score'] }}</td>
        <td style="color: white; background-color:#ffd700 ;">{{ rank['Rank']['rank'] }}</td>
      </tr>

    {% endif %}
    {% endif %}
    {% endfor %}
    </tbody>
  </table>
    {% else %}
        <h6 style="text-align: center;" class="m-5">لا يوجد طلبة الان</h6>
    {% endif %}
</div>
</div>
                <hr class="mt-3 mb-2">
    </div>

        <div class="fixednav">
            <a href="#" class="Variable"><i class="fa fa-user i"></i></a>
            {% if user['Messages']|length > 0 %}
            <a href="{{url_for('Messages')}}" style="background-color : red" class="Variable message"><i class="fa fa-envelope"></i></a>
            {% else %}
            <a href="{{url_for('Messages')}}" class="Variable message"><i class="fa fa-envelope"></i></a>
            {% endif %}
        <a href="{{url_for('results')}}" id="RES" class="Variable"><i class="fa fa-certificate"></i></a>
            <a href="{{url_for('logout')}}" class="Variable"><i class="fa fa-sign-out" ></i></a>
        </div>


</div>




        <script src="{{ url_for('static' , filename='js/jquery-3.5.1.js') }}"></script>
        <script src="{{ url_for('static' , filename='js/popper.js') }}"></script>
        <script src="{{ url_for('static' , filename='js/bootstrap.js') }}"></script>
        <script src="{{ url_for('static' , filename='js/student.js') }}"></script>
</body>
</html>
{% endif %}
